{"ast":null,"code":"import _slicedToArray from\"C:/Users/narut/Documents/Coding/stock-calc/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{yahooFinApi}from\"../API/yahooFinApi\";import{useToasts}from\"react-toast-notifications\";import Modal from\"react-modal\";import{FaTimesCircle}from\"react-icons/fa\";import{stockList}from\"../assets/StockList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(_ref){var setQuoteSummary=_ref.setQuoteSummary,fetchChartData=_ref.fetchChartData,searchTerm=_ref.searchTerm,setSearchTerm=_ref.setSearchTerm;var _useToasts=useToasts(),addToast=_useToasts.addToast;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalIsOpen=_useState2[0],setModalIsOpen=_useState2[1];var customStyles={content:{top:\"20%\",left:\"50%\",right:\"auto\",bottom:\"auto\",marginRight:\"-50%\",width:\"500px\",transform:\"translate(-50%, -50%)\"}};var openModal=function openModal(){setModalIsOpen(true);};var closeModal=function closeModal(){setModalIsOpen(false);setSearchTerm(\"\");};var onHandleSubmit=function onHandleSubmit(ev){ev.preventDefault();yahooFinApi.get(\"/v11/finance/quoteSummary/\".concat(searchTerm.toLowerCase(),\".BK?lang=en&region=US&modules=defaultKeyStatistics%2CassetProfile%2CfinancialData%2CquoteType%2CsummaryDetail%2CbalanceSheetHistory%2CincomeStatementHistory\")).then(function(res){if(res.data.quoteSummary.result){setQuoteSummary(res.data.quoteSummary.result[0]);}else{addToast(res.data.quoteSummary.error.code,{appearance:\"error\",autoDismiss:true});}}).catch(function(err){console.log(\"err\",err.message);}).finally(function(){closeModal();});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-light bg-light border\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-primary fs-4\",children:\"VALUATED\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control mx-4\",placeholder:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E23\\u0E32\\u0E22\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2B\\u0E38\\u0E49\\u0E19\",onClick:openModal}),/*#__PURE__*/_jsx(Modal,{isOpen:modalIsOpen,onRequestClose:closeModal,style:customStyles,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onHandleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center  mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fw-bold\",children:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\\u0E2B\\u0E38\\u0E49\\u0E19\"}),/*#__PURE__*/_jsx(\"div\",{style:{cursor:\"pointer\"},onClick:closeModal,children:/*#__PURE__*/_jsx(FaTimesCircle,{})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-group \",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"search\",placeholder:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\",onChange:function onChange(ev){return setSearchTerm(ev.target.value);},value:searchTerm,list:\"stock-list\"}),/*#__PURE__*/_jsx(\"datalist\",{id:\"stock-list\",children:stockList.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item.Symbol,children:item.Company});})}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary\",type:\"submit\",children:\"\\u0E04\\u0E49\\u0E19\\u0E2B\\u0E32\"})]})]})})]})})})});};export default Navbar;","map":{"version":3,"sources":["C:/Users/narut/Documents/Coding/stock-calc/src/Component/Navbar.js"],"names":["React","useState","useEffect","yahooFinApi","useToasts","Modal","FaTimesCircle","stockList","Navbar","setQuoteSummary","fetchChartData","searchTerm","setSearchTerm","addToast","modalIsOpen","setModalIsOpen","customStyles","content","top","left","right","bottom","marginRight","width","transform","openModal","closeModal","onHandleSubmit","ev","preventDefault","get","toLowerCase","then","res","data","quoteSummary","result","error","code","appearance","autoDismiss","catch","err","console","log","message","finally","cursor","target","value","map","item","Symbol","Company"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { yahooFinApi } from \"../API/yahooFinApi\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\nimport Modal from \"react-modal\";\r\nimport { FaTimesCircle } from \"react-icons/fa\";\r\nimport { stockList } from \"../assets/StockList\";\r\n\r\nconst Navbar = ({\r\n  setQuoteSummary,\r\n  fetchChartData,\r\n  searchTerm,\r\n  setSearchTerm,\r\n}) => {\r\n  const { addToast } = useToasts();\r\n  const [modalIsOpen, setModalIsOpen] = useState(false);\r\n\r\n  const customStyles = {\r\n    content: {\r\n      top: \"20%\",\r\n      left: \"50%\",\r\n      right: \"auto\",\r\n      bottom: \"auto\",\r\n      marginRight: \"-50%\",\r\n      width: \"500px\",\r\n      transform: \"translate(-50%, -50%)\",\r\n    },\r\n  };\r\n\r\n  const openModal = () => {\r\n    setModalIsOpen(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setModalIsOpen(false);\r\n    setSearchTerm(\"\");\r\n  };\r\n\r\n  const onHandleSubmit = (ev) => {\r\n    ev.preventDefault();\r\n    yahooFinApi\r\n      .get(\r\n        `/v11/finance/quoteSummary/${searchTerm.toLowerCase()}.BK?lang=en&region=US&modules=defaultKeyStatistics%2CassetProfile%2CfinancialData%2CquoteType%2CsummaryDetail%2CbalanceSheetHistory%2CincomeStatementHistory`\r\n      )\r\n      .then((res) => {\r\n        if (res.data.quoteSummary.result) {\r\n          setQuoteSummary(res.data.quoteSummary.result[0]);\r\n        } else {\r\n          addToast(res.data.quoteSummary.error.code, {\r\n            appearance: \"error\",\r\n            autoDismiss: true,\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err.message);\r\n      })\r\n      .finally(() => {\r\n        closeModal();\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <nav className=\"navbar navbar-light bg-light border\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"d-flex align-items-center\">\r\n            <div className=\"text-primary fs-4\">VALUATED</div>\r\n            <input\r\n              className=\"form-control mx-4\"\r\n              placeholder=\"ค้นหารายชื่อหุ้น\"\r\n              onClick={openModal}\r\n            />\r\n            <Modal\r\n              isOpen={modalIsOpen}\r\n              onRequestClose={closeModal}\r\n              style={customStyles}\r\n            >\r\n              <form onSubmit={onHandleSubmit}>\r\n                <div className=\"d-flex justify-content-between align-items-center  mb-2\">\r\n                  <div className=\"fw-bold\">ค้นหาข้อมูลหุ้น</div>\r\n                  <div style={{ cursor: \"pointer\" }} onClick={closeModal}>\r\n                    <FaTimesCircle />\r\n                  </div>\r\n                </div>\r\n                <div class=\"input-group \">\r\n                  <input\r\n                    className=\"form-control\"\r\n                    type=\"search\"\r\n                    placeholder=\"ค้นหา\"\r\n                    onChange={(ev) => setSearchTerm(ev.target.value)}\r\n                    value={searchTerm}\r\n                    list=\"stock-list\"\r\n                  />\r\n                  <datalist id=\"stock-list\">\r\n                    {stockList.map((item) => {\r\n                      return (\r\n                        <option value={item.Symbol}>{item.Company}</option>\r\n                      );\r\n                    })}\r\n                  </datalist>\r\n\r\n                  <button class=\"btn btn-primary\" type=\"submit\">\r\n                    ค้นหา\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </Modal>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"]},"metadata":{},"sourceType":"module"}