{"ast":null,"code":"\"use strict\";\n\nvar req = require(\"cheerio-req\"),\n    typpy = require(\"typpy\"),\n    assured = require(\"assured\"),\n    scrapeHTML = require(\"scrape-it-core\");\n/**\n * scrapeIt\n * A scraping module for humans.\n *\n * @name scrapeIt\n * @function\n * @param {String|Object} url The page url or request options.\n * @param {Object} opts The options passed to `scrapeHTML` method.\n * @param {Function} cb The callback function.\n * @return {Promise} A promise object resolving with:\n *\n *   - `data` (Object): The scraped data.\n *   - `$` (Function): The Cheeerio function. This may be handy to do some other manipulation on the DOM, if needed.\n *   - `response` (Object): The response object.\n *   - `body` (String): The raw body as a string.\n *\n */\n\n\nfunction scrapeIt(url, opts, cb) {\n  cb = assured(cb);\n  req(url, function (err, $, res, body) {\n    if (err) {\n      return cb(err);\n    }\n\n    try {\n      var scrapedData = scrapeIt.scrapeHTML($, opts);\n      cb(null, {\n        data: scrapedData,\n        $: $,\n        response: res,\n        body: body\n      });\n    } catch (err) {\n      cb(err);\n    }\n  });\n  return cb._;\n}\n/**\n * scrapeIt.scrapeHTML\n * Scrapes the data in the provided element.\n *\n * For the format of the selector, please refer to the [Selectors section of the Cheerio library](https://github.com/cheeriojs/cheerio#-selector-context-root-)\n *\n * @name scrapeIt.scrapeHTML\n * @function\n * @param {Cheerio} $ The input element.\n * @param {Object} opts An object containing the scraping information.\n *\n *   If you want to scrape a list, you have to use the `listItem` selector:\n *\n *    - `listItem` (String): The list item selector.\n *    - `data` (Object): The fields to include in the list objects:\n *       - `<fieldName>` (Object|String): The selector or an object containing:\n *          - `selector` (String): The selector.\n *          - `convert` (Function): An optional function to change the value.\n *          - `how` (Function|String): A function or function name to access the\n *            value.\n *          - `attr` (String): If provided, the value will be taken based on\n *            the attribute name.\n *          - `trim` (Boolean): If `false`, the value will *not* be trimmed\n *            (default: `true`).\n *          - `closest` (String): If provided, returns the first ancestor of\n *            the given element.\n *          - `eq` (Number): If provided, it will select the *nth* element.\n *          - `texteq` (Number): If provided, it will select the *nth* direct text child.\n *            Deep text child selection is not possible yet.\n *            Overwrites the `how` key.\n *          - `listItem` (Object): An object, keeping the recursive schema of\n *            the `listItem` object. This can be used to create nested lists.\n *\n *   **Example**:\n *   ```js\n *   {\n *      articles: {\n *          listItem: \".article\"\n *        , data: {\n *              createdAt: {\n *                  selector: \".date\"\n *                , convert: x => new Date(x)\n *              }\n *            , title: \"a.article-title\"\n *            , tags: {\n *                  listItem: \".tags > span\"\n *              }\n *            , content: {\n *                  selector: \".article-content\"\n *                , how: \"html\"\n *              }\n *            , traverseOtherNode: {\n *                  selector: \".upperNode\"\n *                , closest: \"div\"\n *                , convert: x => x.length\n *              }\n *          }\n *      }\n *   }\n *   ```\n *\n *   If you want to collect specific data from the page, just use the same\n *   schema used for the `data` field.\n *\n *   **Example**:\n *   ```js\n *   {\n *        title: \".header h1\"\n *      , desc: \".header h2\"\n *      , avatar: {\n *            selector: \".header img\"\n *          , attr: \"src\"\n *        }\n *   }\n *   ```\n *\n * @returns {Object} The scraped data.\n */\n\n\nscrapeIt.scrapeHTML = scrapeHTML;\nmodule.exports = scrapeIt;","map":{"version":3,"sources":["C:/Users/narut/Documents/Coding/stock-calc/node_modules/scrape-it/lib/index.js"],"names":["req","require","typpy","assured","scrapeHTML","scrapeIt","url","opts","cb","err","$","res","body","scrapedData","data","response","_","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,aAAD,CAAjB;AAAA,IACIC,KAAK,GAAGD,OAAO,CAAC,OAAD,CADnB;AAAA,IAEIE,OAAO,GAAGF,OAAO,CAAC,SAAD,CAFrB;AAAA,IAGIG,UAAU,GAAGH,OAAO,CAAC,gBAAD,CAHxB;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASI,QAAT,CAAkBC,GAAlB,EAAuBC,IAAvB,EAA6BC,EAA7B,EAAiC;AAC7BA,EAAAA,EAAE,GAAGL,OAAO,CAACK,EAAD,CAAZ;AACAR,EAAAA,GAAG,CAACM,GAAD,EAAM,UAAUG,GAAV,EAAeC,CAAf,EAAkBC,GAAlB,EAAuBC,IAAvB,EAA6B;AAClC,QAAIH,GAAJ,EAAS;AACL,aAAOD,EAAE,CAACC,GAAD,CAAT;AACH;;AACD,QAAI;AACA,UAAII,WAAW,GAAGR,QAAQ,CAACD,UAAT,CAAoBM,CAApB,EAAuBH,IAAvB,CAAlB;AACAC,MAAAA,EAAE,CAAC,IAAD,EAAO;AACLM,QAAAA,IAAI,EAAED,WADD;AAELH,QAAAA,CAAC,EAAEA,CAFE;AAGLK,QAAAA,QAAQ,EAAEJ,GAHL;AAILC,QAAAA,IAAI,EAAEA;AAJD,OAAP,CAAF;AAMH,KARD,CAQE,OAAOH,GAAP,EAAY;AACVD,MAAAA,EAAE,CAACC,GAAD,CAAF;AACH;AACJ,GAfE,CAAH;AAgBA,SAAOD,EAAE,CAACQ,CAAV;AACH;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACAX,QAAQ,CAACD,UAAT,GAAsBA,UAAtB;AAEAa,MAAM,CAACC,OAAP,GAAiBb,QAAjB","sourcesContent":["\"use strict\";\n\nvar req = require(\"cheerio-req\"),\n    typpy = require(\"typpy\"),\n    assured = require(\"assured\"),\n    scrapeHTML = require(\"scrape-it-core\");\n\n/**\n * scrapeIt\n * A scraping module for humans.\n *\n * @name scrapeIt\n * @function\n * @param {String|Object} url The page url or request options.\n * @param {Object} opts The options passed to `scrapeHTML` method.\n * @param {Function} cb The callback function.\n * @return {Promise} A promise object resolving with:\n *\n *   - `data` (Object): The scraped data.\n *   - `$` (Function): The Cheeerio function. This may be handy to do some other manipulation on the DOM, if needed.\n *   - `response` (Object): The response object.\n *   - `body` (String): The raw body as a string.\n *\n */\nfunction scrapeIt(url, opts, cb) {\n    cb = assured(cb);\n    req(url, function (err, $, res, body) {\n        if (err) {\n            return cb(err);\n        }\n        try {\n            var scrapedData = scrapeIt.scrapeHTML($, opts);\n            cb(null, {\n                data: scrapedData,\n                $: $,\n                response: res,\n                body: body\n            });\n        } catch (err) {\n            cb(err);\n        }\n    });\n    return cb._;\n}\n\n/**\n * scrapeIt.scrapeHTML\n * Scrapes the data in the provided element.\n *\n * For the format of the selector, please refer to the [Selectors section of the Cheerio library](https://github.com/cheeriojs/cheerio#-selector-context-root-)\n *\n * @name scrapeIt.scrapeHTML\n * @function\n * @param {Cheerio} $ The input element.\n * @param {Object} opts An object containing the scraping information.\n *\n *   If you want to scrape a list, you have to use the `listItem` selector:\n *\n *    - `listItem` (String): The list item selector.\n *    - `data` (Object): The fields to include in the list objects:\n *       - `<fieldName>` (Object|String): The selector or an object containing:\n *          - `selector` (String): The selector.\n *          - `convert` (Function): An optional function to change the value.\n *          - `how` (Function|String): A function or function name to access the\n *            value.\n *          - `attr` (String): If provided, the value will be taken based on\n *            the attribute name.\n *          - `trim` (Boolean): If `false`, the value will *not* be trimmed\n *            (default: `true`).\n *          - `closest` (String): If provided, returns the first ancestor of\n *            the given element.\n *          - `eq` (Number): If provided, it will select the *nth* element.\n *          - `texteq` (Number): If provided, it will select the *nth* direct text child.\n *            Deep text child selection is not possible yet.\n *            Overwrites the `how` key.\n *          - `listItem` (Object): An object, keeping the recursive schema of\n *            the `listItem` object. This can be used to create nested lists.\n *\n *   **Example**:\n *   ```js\n *   {\n *      articles: {\n *          listItem: \".article\"\n *        , data: {\n *              createdAt: {\n *                  selector: \".date\"\n *                , convert: x => new Date(x)\n *              }\n *            , title: \"a.article-title\"\n *            , tags: {\n *                  listItem: \".tags > span\"\n *              }\n *            , content: {\n *                  selector: \".article-content\"\n *                , how: \"html\"\n *              }\n *            , traverseOtherNode: {\n *                  selector: \".upperNode\"\n *                , closest: \"div\"\n *                , convert: x => x.length\n *              }\n *          }\n *      }\n *   }\n *   ```\n *\n *   If you want to collect specific data from the page, just use the same\n *   schema used for the `data` field.\n *\n *   **Example**:\n *   ```js\n *   {\n *        title: \".header h1\"\n *      , desc: \".header h2\"\n *      , avatar: {\n *            selector: \".header img\"\n *          , attr: \"src\"\n *        }\n *   }\n *   ```\n *\n * @returns {Object} The scraped data.\n */\nscrapeIt.scrapeHTML = scrapeHTML;\n\nmodule.exports = scrapeIt;"]},"metadata":{},"sourceType":"script"}